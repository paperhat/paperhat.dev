@prefix gd:   <https://paperhat.dev/ns/gd#> .
@prefix gdm:  <https://paperhat.dev/ns/gdm#> .
@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .

#####################################################################
# Perceptual Metrics v0.1 (derived artifacts)
#####################################################################

gdm:MetricSet a rdfs:Class ; rdfs:label "Metric Set" .
gdm:MetricAssertion a rdfs:Class ; rdfs:label "Metric Assertion" .
gdm:MetricType a rdfs:Class ; rdfs:label "Metric Type" .

gdm:MeasurementMethod a rdfs:Class ; rdfs:label "Measurement Method" .
gdm:Unit a rdfs:Class ; rdfs:label "Unit" .

#####################################################################
# Metric type instances (closed list for v0.1)
#####################################################################

gdm:SalienceScore            a gdm:MetricType ; rdfs:label "Salience Score" .
gdm:HierarchyRank            a gdm:MetricType ; rdfs:label "Hierarchy Rank" .
gdm:ReadingOrderIndex        a gdm:MetricType ; rdfs:label "Reading Order Index" .
gdm:BalanceDeviation         a gdm:MetricType ; rdfs:label "Balance Deviation" .
gdm:SymmetryScore            a gdm:MetricType ; rdfs:label "Symmetry Score" .
gdm:ContrastLuminance        a gdm:MetricType ; rdfs:label "Luminance Contrast" .
gdm:FigureGroundSeparation   a gdm:MetricType ; rdfs:label "Figure-Ground Separation" .
gdm:WhitespaceRatio          a gdm:MetricType ; rdfs:label "Whitespace Ratio" .
gdm:AlignmentError           a gdm:MetricType ; rdfs:label "Alignment Error" .
gdm:GridConformanceScore     a gdm:MetricType ; rdfs:label "Grid Conformance Score" .
gdm:TypographicRhythmScore   a gdm:MetricType ; rdfs:label "Typographic Rhythm Score" .

#####################################################################
# Minimal units (closed list for v0.1)
#####################################################################

gdm:Unitless   a gdm:Unit ; rdfs:label "Unitless" .
gdm:Percent    a gdm:Unit ; rdfs:label "Percent" .
gdm:Pixels     a gdm:Unit ; rdfs:label "Pixels" .
gdm:CanvasUnits a gdm:Unit ; rdfs:label "Canvas Units" .

#####################################################################
# Methods (closed list for v0.1)
#####################################################################

gdm:ComputedFromGeometryAndStyle a gdm:MeasurementMethod ; rdfs:label "Computed from geometry+style" .
gdm:ComputedFromGridModel        a gdm:MeasurementMethod ; rdfs:label "Computed from grid model" .
gdm:ComputedFromTextMetrics      a gdm:MeasurementMethod ; rdfs:label "Computed from text metrics" .

#####################################################################
# Properties
#####################################################################

# Attachment to a composition + optional view
gdm:forComposition a rdf:Property ; rdfs:domain gdm:MetricSet ; rdfs:range gd:Composition .
gdm:forView        a rdf:Property ; rdfs:domain gdm:MetricSet ; rdfs:range gd:View .

# A MetricSet contains assertions
gdm:hasMetric a rdf:Property ; rdfs:domain gdm:MetricSet ; rdfs:range gdm:MetricAssertion .

# What the metric is about
gdm:about a rdf:Property ; rdfs:domain gdm:MetricAssertion ; rdfs:range rdfs:Resource .  # constrained by SHACL to ElementInstance|Region|Composition|PrincipleStatement

# What kind of metric it is
gdm:metricType a rdf:Property ; rdfs:domain gdm:MetricAssertion ; rdfs:range gdm:MetricType .

# Value
gdm:valueDecimal a rdf:Property ; rdfs:domain gdm:MetricAssertion ; rdfs:range xsd:decimal .
gdm:valueInteger a rdf:Property ; rdfs:domain gdm:MetricAssertion ; rdfs:range xsd:integer .
gdm:unit         a rdf:Property ; rdfs:domain gdm:MetricAssertion ; rdfs:range gdm:Unit .

# Provenance (still deterministic; no “AI guessed it”)
gdm:method a rdf:Property ; rdfs:domain gdm:MetricAssertion ; rdfs:range gdm:MeasurementMethod .

# Determinism / reproducibility anchors
# - algorithmId + inputsHash define deterministic replay identity.
# - computedAtEpochMs is informational provenance metadata and MUST NOT
#   participate in deterministic equivalence checks.
gdm:computedAtEpochMs a rdf:Property ; rdfs:domain gdm:MetricSet ; rdfs:range xsd:long .
gdm:algorithmId       a rdf:Property ; rdfs:domain gdm:MetricSet ; rdfs:range xsd:string .
gdm:inputsHash        a rdf:Property ; rdfs:domain gdm:MetricSet ; rdfs:range xsd:string .
