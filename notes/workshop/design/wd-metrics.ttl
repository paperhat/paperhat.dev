@prefix wd:   <https://paperhat.dev/ns/wd#> .
@prefix wdm:  <https://paperhat.dev/ns/wdm#> .
@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .

#####################################################################
# Perceptual Metrics 1.0.0 (derived artifacts)
#####################################################################

wdm:MetricSet a rdfs:Class ; rdfs:label "Metric Set" .
wdm:MetricAssertion a rdfs:Class ; rdfs:label "Metric Assertion" .
wdm:MetricType a rdfs:Class ; rdfs:label "Metric Type" .

wdm:MeasurementMethod a rdfs:Class ; rdfs:label "Measurement Method" .
wdm:Unit a rdfs:Class ; rdfs:label "Unit" .

#####################################################################
# Metric type instances (closed list for 1.0.0)
#####################################################################

wdm:SalienceScore            a wdm:MetricType ; rdfs:label "Salience Score" .
wdm:HierarchyRank            a wdm:MetricType ; rdfs:label "Hierarchy Rank" .
wdm:ReadingOrderIndex        a wdm:MetricType ; rdfs:label "Reading Order Index" .
wdm:BalanceDeviation         a wdm:MetricType ; rdfs:label "Balance Deviation" .
wdm:SymmetryScore            a wdm:MetricType ; rdfs:label "Symmetry Score" .
wdm:ContrastLuminance        a wdm:MetricType ; rdfs:label "Luminance Contrast" .
wdm:FigureGroundSeparation   a wdm:MetricType ; rdfs:label "Figure-Ground Separation" .
wdm:WhitespaceRatio          a wdm:MetricType ; rdfs:label "Whitespace Ratio" .
wdm:AlignmentError           a wdm:MetricType ; rdfs:label "Alignment Error" .
wdm:GridConformanceScore     a wdm:MetricType ; rdfs:label "Grid Conformance Score" .
wdm:TypographicRhythmScore   a wdm:MetricType ; rdfs:label "Typographic Rhythm Score" .

#####################################################################
# Minimal units (closed list for 1.0.0)
#####################################################################

wdm:Unitless   a wdm:Unit ; rdfs:label "Unitless" .
wdm:Percent    a wdm:Unit ; rdfs:label "Percent" .
wdm:Pixels     a wdm:Unit ; rdfs:label "Pixels" .
wdm:CanvasUnits a wdm:Unit ; rdfs:label "Canvas Units" .

#####################################################################
# Methods (closed list for 1.0.0)
#####################################################################

wdm:ComputedFromGeometryAndStyle a wdm:MeasurementMethod ; rdfs:label "Computed from geometry+style" .
wdm:ComputedFromGridModel        a wdm:MeasurementMethod ; rdfs:label "Computed from grid model" .
wdm:ComputedFromTextMetrics      a wdm:MeasurementMethod ; rdfs:label "Computed from text metrics" .

#####################################################################
# Properties
#####################################################################

# Attachment to a composition + optional view
wdm:forComposition a rdf:Property ; rdfs:domain wdm:MetricSet ; rdfs:range wd:Composition .
wdm:forView        a rdf:Property ; rdfs:domain wdm:MetricSet ; rdfs:range wd:View .

# A MetricSet contains assertions
wdm:hasMetric a rdf:Property ; rdfs:domain wdm:MetricSet ; rdfs:range wdm:MetricAssertion .

# What the metric is about
wdm:about a rdf:Property ; rdfs:domain wdm:MetricAssertion ; rdfs:range rdfs:Resource .  # constrained by SHACL to ElementInstance|Region|Composition|PrincipleStatement

# What kind of metric it is
wdm:metricType a rdf:Property ; rdfs:domain wdm:MetricAssertion ; rdfs:range wdm:MetricType .

# Value
wdm:valueDecimal a rdf:Property ; rdfs:domain wdm:MetricAssertion ; rdfs:range xsd:decimal .
wdm:valueInteger a rdf:Property ; rdfs:domain wdm:MetricAssertion ; rdfs:range xsd:integer .
wdm:unit         a rdf:Property ; rdfs:domain wdm:MetricAssertion ; rdfs:range wdm:Unit .

# Provenance (still deterministic; no “AI guessed it”)
wdm:method a rdf:Property ; rdfs:domain wdm:MetricAssertion ; rdfs:range wdm:MeasurementMethod .

# Determinism / reproducibility anchors
# - algorithmId + inputsHash define deterministic replay identity.
# - computedAtEpochMs is informational provenance metadata and MUST NOT
#   participate in deterministic equivalence checks.
wdm:computedAtEpochMs a rdf:Property ; rdfs:domain wdm:MetricSet ; rdfs:range xsd:long .
wdm:algorithmId       a rdf:Property ; rdfs:domain wdm:MetricSet ; rdfs:range xsd:string .
wdm:inputsHash        a rdf:Property ; rdfs:domain wdm:MetricSet ; rdfs:range xsd:string .
