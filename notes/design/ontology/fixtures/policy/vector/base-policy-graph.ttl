@prefix wd:  <https://paperhat.dev/ns/wd#> .
@prefix ex:  <https://paperhat.dev/examples/policy/vector/base#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

ex:c1
  a wd:Composition ;
  wd:hasCanvas ex:canvas1 ;
  wd:hasElement ex:element1 ;
  wd:hasLayer ex:layer1 ;
  wd:hasView ex:view1 ;
  wd:intent wd:Inform ;
  wd:hasPolicy ex:policyComp100, ex:policyComp150, ex:policyComp200, ex:policyView200 .

ex:canvas1
  a wd:Canvas ;
  wd:ownedBy ex:c1 .

ex:layer1
  a wd:Layer ;
  wd:ownedBy ex:c1 .

ex:view1
  a wd:View .

ex:element1
  a wd:ElementInstance ;
  wd:ownedBy ex:c1 ;
  wd:instanceOf ex:type1 ;
  wd:frame ex:rect1 ;
  wd:style ex:style1 ;
  wd:semanticRole wd:Title ;
  wd:zIndex 1 .

ex:type1 a wd:ElementType .

ex:rect1
  a wd:Rect ;
  wd:ownedBy ex:c1 ;
  wd:x "0.0"^^xsd:decimal ;
  wd:y "0.0"^^xsd:decimal ;
  wd:w "100.0"^^xsd:decimal ;
  wd:h "20.0"^^xsd:decimal .

ex:style1
  a wd:Style ;
  wd:ownedBy ex:c1 ;
  wd:opacity "1.0"^^xsd:decimal .

ex:policyComp100
  a wd:Policy ;
  wd:appliesTo ex:c1 ;
  wd:hasCondition ex:conditionComp100 ;
  wd:hasAction ex:actionComp100 ;
  wd:priority 100 ;
  wd:conflictStrategy wd:HigherPriorityWins ;
  wd:enabled true .

ex:conditionComp100
  a wd:Condition ;
  wd:contextKey wd:ViewportWidthPx ;
  wd:operator wd:OpGte ;
  wd:conditionValueInteger 1024 .

ex:actionComp100
  a wd:Action ;
  wd:actionMode wd:ReplaceAll ;
  wd:targetNode ex:element1 ;
  wd:targetProperty wd:zIndex ;
  wd:actionValueInteger 10 .

ex:policyComp150
  a wd:Policy ;
  wd:appliesTo ex:c1 ;
  wd:hasCondition ex:conditionComp150 ;
  wd:hasAction ex:actionComp150 ;
  wd:priority 150 ;
  wd:conflictStrategy wd:HigherPriorityWins ;
  wd:enabled true .

ex:conditionComp150
  a wd:Condition ;
  wd:contextKey wd:ViewportWidthPx ;
  wd:operator wd:OpGte ;
  wd:conditionValueInteger 1024 .

ex:actionComp150
  a wd:Action ;
  wd:actionMode wd:Add ;
  wd:targetNode ex:element1 ;
  wd:targetProperty wd:layer ;
  wd:actionValueIRI ex:layer1 .

ex:policyComp200
  a wd:Policy ;
  wd:appliesTo ex:c1 ;
  wd:hasCondition ex:conditionComp200 ;
  wd:hasAction ex:actionComp200 ;
  wd:priority 200 ;
  wd:conflictStrategy wd:HigherPriorityWins ;
  wd:enabled true .

ex:conditionComp200
  a wd:Condition ;
  wd:contextKey wd:ViewportWidthPx ;
  wd:operator wd:OpGte ;
  wd:conditionValueInteger 1200 .

ex:actionComp200
  a wd:Action ;
  wd:actionMode wd:ReplaceAll ;
  wd:targetNode ex:element1 ;
  wd:targetProperty wd:zIndex ;
  wd:actionValueInteger 20 .

ex:policyView200
  a wd:Policy ;
  wd:appliesTo ex:view1 ;
  wd:hasCondition ex:conditionView200 ;
  wd:hasAction ex:actionView200 ;
  wd:priority 200 ;
  wd:conflictStrategy wd:HigherPriorityWins ;
  wd:enabled true .

ex:conditionView200
  a wd:Condition ;
  wd:contextKey wd:ViewportWidthPx ;
  wd:operator wd:OpGte ;
  wd:conditionValueInteger 1200 .

ex:actionView200
  a wd:Action ;
  wd:actionMode wd:ReplaceAll ;
  wd:targetNode ex:element1 ;
  wd:targetProperty wd:zIndex ;
  wd:actionValueInteger 30 .
