@prefix gd: <https://paperhat.example/ontologies/graphic-design#> .
@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

#####################################################################
# Composition
#####################################################################

gd:CompositionShape a sh:NodeShape ;
  sh:targetClass gd:Composition ;

  sh:property [
    sh:path gd:hasCanvas ;
    sh:minCount 1 ; sh:maxCount 1 ;
  ] ;

  sh:property [
    sh:path gd:hasElement ;
    sh:minCount 1 ;
  ] ;

  sh:property [
    sh:path gd:intent ;
    sh:minCount 1 ; sh:maxCount 1 ;
  ] .

#####################################################################
# ElementInstance
#####################################################################

gd:ElementInstanceShape a sh:NodeShape ;
  sh:targetClass gd:ElementInstance ;

  sh:property [
    sh:path gd:instanceOf ;
    sh:minCount 1 ; sh:maxCount 1 ;
  ] ;

  sh:property [
    sh:path gd:frame ;
    sh:minCount 1 ; sh:maxCount 1 ;
  ] ;

  sh:property [
    sh:path gd:style ;
    sh:minCount 1 ; sh:maxCount 1 ;
  ] ;

  sh:property [
    sh:path gd:semanticRole ;
    sh:minCount 1 ; sh:maxCount 1 ;
  ] .

#####################################################################
# Rect
#####################################################################

gd:RectShape a sh:NodeShape ;
  sh:targetClass gd:Rect ;

  sh:property [ sh:path gd:w ; sh:minExclusive 0 ] ;
  sh:property [ sh:path gd:h ; sh:minExclusive 0 ] .

#####################################################################
# Style
#####################################################################

gd:StyleShape a sh:NodeShape ;
  sh:targetClass gd:Style ;

  sh:property [
    sh:path gd:opacity ;
    sh:minInclusive 0 ;
    sh:maxInclusive 1 ;
  ] .

#####################################################################
# PrincipleStatement
#####################################################################

gd:PrincipleStatementShape a sh:NodeShape ;
  sh:targetClass gd:PrincipleStatement ;

  sh:property [
    sh:path gd:principleType ;
    sh:minCount 1 ; sh:maxCount 1 ;
  ] ;

  sh:property [
    sh:path gd:scope ;
    sh:minCount 1 ; sh:maxCount 1 ;
  ] ;

  sh:property [
    sh:path gd:participant ;
    sh:minCount 1 ;
  ] .
